'''
(*)~----------------------------------------------------------------------------------
 Pupil - eye tracking platform
 Copyright (C) 2012-2014  Pupil Labs

 Distributed under the terms of the CC BY-NC-SA License.
 License details are in the file license.txt, distributed as part of this software.
----------------------------------------------------------------------------------~(*)
'''

from conicoid import Conicoid
from project import find_circle_in_conicoid

# Test conicoid from Safaee-rad's paper

conicoid = Conicoid(204.024, 224.000, 66.976, -177.452/2, -127.567/2, -102.452/2,
                    -127.567/2, 177.452/2, 133.952/2, 66.976)

circles = find_circle_in_conicoid(conicoid, 4, 1, debug=True)

'''
Expected output
Lambda: [[ 273.51547518]
 [ 224.93211894]
 [  -3.44759412]]
[l, m, n] = [0.4188252197681642, 0.0, 0.908066867188837]
T0: [[ 1.  0.  0.  0.]
 [ 0.  1.  0.  0.]
 [ 0.  0.  1.  1.]
 [ 0.  0.  0.  1.]]
T1: [[ 0.41831518 -0.83440841 -0.35885237  0.        ]
 [-0.8742482  -0.26270995 -0.40825673  0.        ]
 [ 0.24637876  0.48450603 -0.83937561  0.        ]
 [ 0.          0.          0.          1.        ]]
T2: [[  1.           0.           0.           0.320818  ]
 [  0.           1.           0.          -0.27725058]
 [  0.           0.           1.         -20.1741113 ]
 [  0.           0.           0.           1.        ]]
T3: [[ 0.         -0.90806687  0.41882522  0.        ]
 [ 1.          0.          0.          0.        ]
 [ 0.          0.41882522  0.90806687  0.        ]
 [ 0.          0.          0.          1.        ]]
Center: [[ 19.29359865]
 [ 21.07235657]
 [ 45.08078921]]
Normal: [[-0.150661  ]
 [-0.73688161]
 [-0.65901954]]
Radius: 4
Lambda: [[ 273.51547518]
 [ 224.93211894]
 [  -3.44759412]]
[l, m, n] = [-0.4188252197681642, 0.0, 0.908066867188837]
T0: [[ 1.  0.  0.  0.]
 [ 0.  1.  0.  0.]
 [ 0.  0.  1.  1.]
 [ 0.  0.  0.  1.]]
T1: [[ 0.41831518 -0.83440841 -0.35885237  0.        ]
 [-0.8742482  -0.26270995 -0.40825673  0.        ]
 [ 0.24637876  0.48450603 -0.83937561  0.        ]
 [ 0.          0.          0.          1.        ]]
T2: [[  1.           0.           0.           0.320818  ]
 [  0.           1.           0.          -0.27725058]
 [  0.           0.           1.         -20.1741113 ]
 [  0.           0.           0.           1.        ]]
T3: [[ 0.          0.90806687 -0.41882522  0.        ]
 [-1.          0.          0.          0.        ]
 [ 0.          0.41882522  0.90806687  0.        ]
 [ 0.          0.          0.          1.        ]]
Center: [[ 19.13623894]
 [ 21.40122688]
 [ 44.98810768]]
Normal: [[-0.5010629 ]
 [-0.00456722]
 [-0.86539882]]
Radius: 4
'''